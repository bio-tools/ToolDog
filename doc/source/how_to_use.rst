.. ToolDog - Tool description generator

.. _how_to_use:

********************
How to use ToolDog ?
********************

ToolDog can either generates a template from a bio.tools entry for Galaxy or CWL but
also annotates exiting tool descriptors with missing metadata.
ToolDog supports generation of XML files for Galaxy (`-g/--galaxy`) or CWL tool (`-c/--cwl`).
It works in two main steps: **(1)** Analysis of the source code when possible (for the moment, only
support Python code using argparse), **(2)** Addition of metadata to the tool description.

.. Note::
   If you find a bug, have any questions or suggestions, please `create an issue`_ on
   GitHub or contact us on `Gitter`_.

.. _create an issue: https://github.com/bio-tools/ToolDog/issues
.. _Gitter: https://gitter.im/ToolDog/Lobby

.. _online_import:

Import from https://bio.tools entry
===================================

You can generate a XML for Galaxy from an online https://bio.tools description from the identifier
using the following command:

.. code-block:: bash

    tooldog -g/--galaxy id > outfile.xml

.. _local_import:

Import from JSON local file
===========================

To generate XML from a local file downloaded from http://bio.tools, use the following command:

.. code-block:: bash

    tooldog -g/--galaxy file.json > outfile.xml


Annotation of existing files
============================

You can also use ToolDog to add missing metadata from your tool descriptor if the tool
is registered on https://bio.tools:

.. code-block:: bash

    tooldog -g/--galaxy id --existing_desc your_xml.xml > annotated_xml.xml

.. Note::
    For the moment, only annotation of Galaxy XML is supported.

Advanced options
================

Please refer to the help section (``tooldog -h``) of ToolDog to see the full list of options.

Run parts independently
-----------------------

You can decide to run both parts of ToolDog in an independant manner using ``tooldog -g id --analyse``
and ``tooldog -g id --annotate`` options. 

Use your own settings and local files
-------------------------------------

ToolDog offers the possibility to use your own settings for most of the step of the generation.

Options for source code analysis
""""""""""""""""""""""""""""""""

- ``--source_language``: specify the language of your source code.
- ``--source_code``: specify the path to your source code directory.

.. Warning::
    For the moment, only analysis of Python code is available

Options for tool description annotation
"""""""""""""""""""""""""""""""""""""""

- ``--inout_biotools``: select this option to also add inputs and outputs found on the https://bio.tools description to your Galaxy XML or CWL tool description.

Options specific to Galaxy XML generation
"""""""""""""""""""""""""""""""""""""""""

The options below are used for the mapping between EDAM formats and data to Galaxy datatypes. As some Galaxy instances sometimes have their own defined datatypes, you can here specify the url:

- ``--galaxy_url``: URL of the Galaxy instance (default is https://usegalaxy.org)
- ``--edam_url``: URL or local path to EDAM.owl (default is http://edamontology.org/EDAM.owl)
- ``--mapping_file``: this is a JSON file generated by ToolDog that you can keep once you have performed your own mapping.
